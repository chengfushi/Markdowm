@[toc]
æœ¬æ–‡ä»‹ç»ä¸€ä¸ªå¸¸ç”¨çš„ç®—æ³•â€”â€”å“ˆå¸Œç®—æ³•ï¼Œå“ˆå¸Œç®—æ³•ä¾èµ–äºå“ˆå¸Œè¡¨æ¥å®ç°ï¼Œé¦–å…ˆæˆ‘ä¼šä»‹ç»ä¸€ä¸‹å“ˆå¸Œè¡¨ï¼Œå¹¶åœ¨å“ˆå¸Œè¡¨çš„åŸºç¡€ä¸Šè¡ç”Ÿå‡ºå“ˆå¸Œç®—æ³•ã€‚
# 1.æ•°æ®ç»“æ„â€”â€”å“ˆå¸Œè¡¨
**å“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰**ï¼Œåˆç§°æ•£åˆ—è¡¨ï¼Œå®ƒé€šè¿‡å»ºç«‹é”®key ä¸å€¼value ä¹‹é—´çš„æ˜ å°„ï¼Œå®ç°é«˜æ•ˆçš„å…ƒç´ æŸ¥è¯¢ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬å‘å“ˆå¸Œè¡¨ä¸­è¾“å…¥ä¸€ä¸ªé”®key ï¼Œåˆ™å¯ä»¥åœ¨ğ‘‚(1) æ—¶é—´å†…è·å–å¯¹åº”çš„å€¼value ã€‚
é™¤å“ˆå¸Œè¡¨å¤–ï¼Œæ•°ç»„å’Œé“¾è¡¨ä¹Ÿå¯ä»¥å®ç°æŸ¥è¯¢åŠŸèƒ½ï¼Œå®ƒä»¬çš„æ•ˆç‡å¯¹æ¯”å¦‚è¡¨æ‰€ç¤ºã€‚
* æ·»åŠ å…ƒç´ ï¼šä»…éœ€å°†å…ƒç´ æ·»åŠ è‡³æ•°ç»„ï¼ˆé“¾è¡¨ï¼‰çš„å°¾éƒ¨å³å¯ï¼Œä½¿ç”¨ğ‘‚(1) æ—¶é—´ã€‚
* æŸ¥è¯¢å…ƒç´ ï¼šç”±äºæ•°ç»„ï¼ˆé“¾è¡¨ï¼‰æ˜¯ä¹±åºçš„ï¼Œå› æ­¤éœ€è¦éå†å…¶ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½¿ç”¨ğ‘‚(ğ‘›) æ—¶é—´ã€‚
* åˆ é™¤å…ƒç´ ï¼šéœ€è¦å…ˆæŸ¥è¯¢åˆ°å…ƒç´ ï¼Œå†ä»æ•°ç»„ï¼ˆé“¾è¡¨ï¼‰ä¸­åˆ é™¤ï¼Œä½¿ç”¨ğ‘‚(ğ‘›) æ—¶é—´ã€‚

|  | æ•°ç»„ | é“¾è¡¨ | å“ˆå¸Œè¡¨ |
| --- | --- | --- | --- |
| æŸ¥æ‰¾å…ƒç´  | O(n) | O(n) | O(1) |
| æ·»åŠ å…ƒç´  | O(1) | O(1) | O(1) |
| åˆ é™¤å…ƒç´  | O(n) | O(1) | O(1) |
è§‚å¯Ÿå‘ç°ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­è¿›è¡Œå¢åˆ æŸ¥æ”¹çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ğ‘‚(1) ï¼Œéå¸¸é«˜æ•ˆã€‚
## 1.1å“ˆå¸Œè¡¨çš„å·¥ä½œåŸç†
æˆ‘ä»¬å…ˆè€ƒè™‘æœ€ç®€å•çš„æƒ…å†µï¼Œä»…ç”¨ä¸€ä¸ªæ•°ç»„æ¥å®ç°å“ˆå¸Œè¡¨ã€‚åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œæˆ‘ä»¬å°†æ•°ç»„ä¸­çš„æ¯ä¸ªç©ºä½ç§°ä¸ºæ¡¶ï¼ˆbucketï¼‰ï¼Œæ¯ä¸ªæ¡¶å¯å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹ã€‚å› æ­¤ï¼ŒæŸ¥è¯¢æ“ä½œå°±æ˜¯æ‰¾åˆ°key å¯¹åº”çš„æ¡¶ï¼Œå¹¶åœ¨æ¡¶ä¸­è·å–value ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•åŸºäºkey å®šä½å¯¹åº”çš„æ¡¶å‘¢ï¼Ÿè¿™æ˜¯é€šè¿‡å“ˆå¸Œå‡½æ•°ï¼ˆhash functionï¼‰å®ç°çš„ã€‚å“ˆå¸Œå‡½æ•°çš„ä½œç”¨æ˜¯å°†ä¸€ä¸ªè¾ƒå¤§çš„è¾“å…¥ç©ºé—´æ˜ å°„åˆ°ä¸€ä¸ªè¾ƒå°çš„è¾“å‡ºç©ºé—´ã€‚åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¾“å…¥ç©ºé—´æ˜¯æ‰€æœ‰key ï¼Œè¾“å‡ºç©ºé—´æ˜¯æ‰€æœ‰æ¡¶ï¼ˆæ•°ç»„ç´¢å¼•ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œè¾“å…¥ä¸€ä¸ªkey ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å“ˆå¸Œå‡½æ•°å¾—åˆ°è¯¥key å¯¹åº”çš„é”®å€¼å¯¹åœ¨æ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®ã€‚
è¾“å…¥ä¸€ä¸ªkey ï¼Œå“ˆå¸Œå‡½æ•°çš„è®¡ç®—è¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹ä¸¤æ­¥ã€‚
1. é€šè¿‡æŸç§å“ˆå¸Œç®—æ³•hash() è®¡ç®—å¾—åˆ°å“ˆå¸Œå€¼ã€‚
2. å°†å“ˆå¸Œå€¼å¯¹æ¡¶æ•°é‡ï¼ˆæ•°ç»„é•¿åº¦ï¼‰capacity å–æ¨¡ï¼Œä»è€Œè·å–è¯¥key å¯¹åº”çš„æ•°ç»„ç´¢å¼•index ã€‚
## 1.2å“ˆå¸Œè¡¨çš„ä»£ç å®ç°
```c
typedef struct {  
    int key;  
    char *val;  
} Pair;  
/* åŸºäºæ•°ç»„å®ç°çš„å“ˆå¸Œè¡¨*/  
typedef struct {  
    Pair *buckets[MAX_SIZE];  
} ArrayHashMap;  
/* æ„é€ å‡½æ•°*/  
ArrayHashMap *newArrayHashMap() {  
    ArrayHashMap *hmap = malloc(sizeof(ArrayHashMap));  
    for (int i=0; i < MAX_SIZE; i++) {  
        hmap->buckets[i] = NULL;  
    }  
    return hmap;  
}  
/* ææ„å‡½æ•°*/  
void delArrayHashMap(ArrayHashMap *hmap) {  
    for (int i = 0; i < MAX_SIZE; i++) {  
        if (hmap->buckets[i] != NULL) {  
            free(hmap->buckets[i]->val);  
            free(hmap->buckets[i]);  
        }  
    }  
    free(hmap);  
}  
/* æ·»åŠ æ“ä½œ*/  
void put(ArrayHashMap *hmap, const int key, const char *val) {  
    Pair *Pair = malloc(sizeof(Pair));  
    Pair->key = key;  
    Pair->val = malloc(strlen(val) + 1);  
    strcpy(Pair->val, val);  
    int index = hashFunc(key);  
    hmap->buckets[index] = Pair;  
}  
/* åˆ é™¤æ“ä½œ*/  
void removeItem(ArrayHashMap *hmap, const int key) {  
    int index = hashFunc(key);  
    free(hmap->buckets[index]->val);  
    free(hmap->buckets[index]);  
    hmap->buckets[index] = NULL;  
}  
/* è·å–æ‰€æœ‰é”®å€¼å¯¹*/  
void pairSet(ArrayHashMap *hmap, MapSet *set) {  
    Pair *entries;  
    int i = 0, index = 0;  
    int total = 0;  
    /* ç»Ÿè®¡æœ‰æ•ˆé”®å€¼å¯¹æ•°é‡*/  
    for (i = 0; i < MAX_SIZE; i++) {  
        if (hmap->buckets[i] != NULL) {  
            total++;  
        }  
    }  
    entries = malloc(sizeof(Pair) * total);  
    for (i = 0; i < MAX_SIZE; i++) {  
        if (hmap->buckets[i] != NULL) {  
            entries[index].key = hmap->buckets[i]->key;  
            entries[index].val = malloc(strlen(hmap->buckets[i]->val) + 1);  
            strcpy(entries[index].val, hmap->buckets[i]->val);  
            index++;  
        }  
    }  
    set->set = entries;  
    set->len = total;  
}  
/* è·å–æ‰€æœ‰é”®*/  
void keySet(ArrayHashMap *hmap, MapSet *set) {  
    int *keys;  
    int i = 0, index = 0;  
    int total = 0;  
    /* ç»Ÿè®¡æœ‰æ•ˆé”®å€¼å¯¹æ•°é‡*/  
    for (i = 0; i < MAX_SIZE; i++) {  
        if (hmap->buckets[i] != NULL) {  
            total++;  
        }  
    }  
    keys = malloc(total * sizeof(int));  
    for (i = 0; i < MAX_SIZE; i++) {  
        if (hmap->buckets[i] != NULL) {  
            keys[index] = hmap->buckets[i]->key;  
            index++;  
        }  
    }  
    set->set = keys;  
    set->len = total;  
}  
/* è·å–æ‰€æœ‰å€¼*/  
void valueSet(ArrayHashMap *hmap, MapSet *set) {  
    char **vals;  
    int i = 0, index = 0;  
    int total = 0;  
    /* ç»Ÿè®¡æœ‰æ•ˆé”®å€¼å¯¹æ•°é‡*/  
    for (i = 0; i < MAX_SIZE; i++) {  
        if (hmap->buckets[i] != NULL) {  
            total++;  
        }  
    }  
    vals = malloc(total * sizeof(char *));  
    for (i = 0; i < MAX_SIZE; i++) {  
        if (hmap->buckets[i] != NULL) {  
            vals[index] = hmap->buckets[i]->val;  
            index++;  
        }  
    }  
    set->set = vals;  
    set->len = total;  
}  
/* æ‰“å°å“ˆå¸Œè¡¨*/  
void print(ArrayHashMap *hmap) {  
    int i;  
    MapSet set;  
    pairSet(hmap, &set);  
    Pair *entries = (Pair *)set.set;  
    for (i = 0; i < set.len; i++) {  
        printf("%d -> %s\n", entries[i].key, entries[i].val);  
    }  
    free(set.set);  
}
```
# 2.å“ˆå¸Œç®—æ³•
## 2.1 å“ˆå¸Œç®—æ³•ä»‹ç»
å“ˆå¸Œç®—æ³•æ˜¯ä¸€ç§å°†ä»»æ„é•¿åº¦çš„æ•°æ®è½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„è¾“å‡ºçš„ç®—æ³•ã€‚è¿™ç§è¾“å‡ºé€šå¸¸è¢«ç§°ä¸ºå“ˆå¸Œå€¼æˆ–æ¶ˆæ¯æ‘˜è¦ã€‚å“ˆå¸Œç®—æ³•å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š
- **ç¡®å®šæ€§**ï¼šç›¸åŒçš„è¾“å…¥æ€»æ˜¯äº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚
- **å¿«é€Ÿè®¡ç®—**ï¼šè®¡ç®—å“ˆå¸Œå€¼çš„é€Ÿåº¦é€šå¸¸å¾ˆå¿«ã€‚
- **é›ªå´©æ•ˆåº”**ï¼šè¾“å…¥çš„å¾®å°å˜åŒ–ä¼šå¯¼è‡´è¾“å‡ºçš„æ˜¾è‘—å˜åŒ–ã€‚
- **æŠ—ç¢°æ’æ€§**ï¼šæ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„è¾“å…¥äº§ç”Ÿç›¸åŒè¾“å‡ºçš„æƒ…å†µéå¸¸å›°éš¾ã€‚

**å¸¸è§çš„å“ˆå¸Œç®—æ³•**
- MD5
- SHA-1
- SHA-256
- SHA-3
 ## 2.2Cè¯­è¨€å®ç°ç¤ºä¾‹

```c
#include <stdio.h>
#include <string.h>

#define HASH_TABLE_SIZE 256

// ä¸€ä¸ªç®€å•çš„å“ˆå¸Œå‡½æ•°
unsigned int simple_hash(const unsigned char *str) {
    unsigned int hash = 0;
    for (int i = 0; str[i] != '\0'; i++) {
        hash += str[i]; // è¿™é‡Œä½¿ç”¨äº†å­—ç¬¦çš„ASCIIå€¼
    }
    return hash % HASH_TABLE_SIZE; // å–æ¨¡è¿ç®—ä»¥é€‚åº”å“ˆå¸Œè¡¨å¤§å°
}

int main() {
    const char *input = "Hello, World!";
    unsigned int hash_value = simple_hash((const unsigned char *)input);
    printf("The hash value of '%s' is: %u\n", input, hash_value);
    return 0;
}